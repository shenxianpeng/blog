---
title: Dockerã€containerdã€CRI-Oã€ ä¹‹é—´çš„åŒºåˆ«
tags:
  - containerd
  - Docker
  - CRI-O
  - runc
categories:
  - DevOps
author: shenxianpeng
date: 2022-02-19 20:52:42
---

è‡ªä» Docker å¼€å¯äº†ä½¿ç”¨å®¹å™¨çš„çˆ†å‘å¼å¢é•¿ï¼Œæœ‰è¶Šæ¥è¶Šå¤šçš„å·¥å…·å’Œæ ‡å‡†æ¥å¸®åŠ©ç®¡ç†ä½¿ç”¨è¿™é¡¹å®¹å™¨åŒ–æŠ€æœ¯ï¼Œä¹ŸåŒæ—¶é€ æˆäº†æœ‰å¾ˆå¤šæœ¯è¯­è®©äººæ„Ÿåˆ°å›°æƒ‘ã€‚
æ¯”å¦‚ Docker, Containerd, CRI, CRI-O, OCI, runcï¼Œæœ¬ç¯‡å°†ä»‹ç»è¿™äº›ä½ å¬è¿‡ä½†å¹¶ä¸äº†è§£çš„æœ¯è¯­ï¼Œå¹¶è§£é‡Šå®¹å™¨ç”Ÿæ€ç³»ç»Ÿæ˜¯å¦‚ä½•åœ¨ä¸€èµ·å·¥ä½œçš„ã€‚

## ç†è§£ Docker

Docker å…¬å¸ã€Docker å®¹å™¨ã€Docker é•œåƒï¼Œæˆ‘ä»¬éƒ½ä¹ æƒ¯çš„ Docker å¼€å‘è€…å·¥å…·ä¹‹é—´æ˜¯æœ‰åŒºåˆ«çš„ã€‚

è¿™é‡Œæœ€ä¸»è¦çš„æ˜¯è¦æ˜ç™½çš„ä¸€ç‚¹ï¼ŒDocker å¹¶ä¸æ˜¯è¿™ä¸ªå”¯ä¸€çš„å®¹å™¨ç«äº‰è€…ï¼Œå®¹å™¨ä¹Ÿä¸å†ä¸ Docker è¿™ä¸ªåå­—ç´§å¯†è”ç³»åœ¨ä¸€èµ·ã€‚

ç›®å‰çš„å®¹å™¨å·¥å…·ä¸­ï¼Œdocker åªæ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œå…¶ä»–è‘—åçš„å®¹å™¨å·¥å…·è¿˜åŒ…æ‹¬ã€‚å› æ­¤ï¼Œå¦‚æœä½ è®¤ä¸ºå®¹å™¨åªæ˜¯å…³äº Docker çš„ï¼Œé‚£æ˜¯ç‰‡é¢çš„ã€ä¸å¯¹çš„ã€‚

## å®¹å™¨ç”Ÿæ€ç³»ç»Ÿçš„è§£é‡Š

å®¹å™¨ç”Ÿæ€ç³»ç»Ÿæ˜¯ç”±è®¸å¤šä»¤äººå…´å¥‹çš„æŠ€æœ¯ã€å¤§é‡çš„ä¸“ä¸šæœ¯è¯­å’Œå¤§å…¬å¸ç›¸äº’äº‰æ–—ç»„æˆçš„ã€‚

å¹¸è¿çš„æ˜¯ï¼Œè¿™äº›å…¬å¸å¶å°”ä¼šåœ¨ä¼‘æˆ˜ä¸­èµ°åˆ°ä¸€èµ·ğŸ¤ï¼Œå•†å®šä¸€äº›æ ‡å‡†ã€‚è¿™äº›æ ‡å‡†æœ‰åŠ©äºä½¿è¿™ä¸ªç”Ÿæ€ç³»ç»Ÿåœ¨ä¸åŒçš„å¹³å°å’Œæ“ä½œç³»ç»Ÿä¹‹é—´æ›´å…·äº’æ“ä½œæ€§ï¼Œå¹¶å‡å°‘å¯¹å•ä¸€å…¬å¸æˆ–é¡¹ç›®çš„ä¾èµ–ã€‚

éœ€è¦æ³¨æ„çš„ä¸»è¦æ ‡å‡†æœ‰ã€‚

* Kubernetes Container Runtime Interface (CRI) å®¹å™¨è¿è¡Œæ—¶æ¥å£ï¼Œå®ƒå®šä¹‰äº† Kubernetes å’Œå®¹å™¨è¿è¡Œæ—¶ä¹‹é—´çš„ APIã€‚
* Open Container Initiative (OCI) å¼€æ”¾å®¹å™¨å€¡è®®ï¼Œå®ƒå‘å¸ƒäº†é•œåƒå’Œå®¹å™¨çš„è§„èŒƒã€‚

è¿™å¼ å›¾å‡†ç¡®åœ°æ˜¾ç¤ºäº† Dockerã€Kubernetesã€CRIã€OCIã€containerd å’Œ runc åœ¨è¿™ä¸ªç”Ÿæ€ç³»ç»Ÿä¸­æ˜¯å¦‚ä½•ç»“åˆçš„ã€‚

![](difference-docker-containerd-runc-crio-oci/container-ecosystem.drawio.png)

## Docker

æˆ‘ä»¬å¿…é¡»ä»Dockerå¼€å§‹ï¼Œå› ä¸ºå®ƒæ˜¯å¤„ç†å®¹å™¨çš„æœ€æµè¡Œçš„å¼€å‘è€…å·¥å…·ã€‚å¯¹å¾ˆå¤šäººæ¥è¯´ï¼Œ"Docker "è¿™ä¸ªåå­—æœ¬èº«å°±æ˜¯ "å®¹å™¨ "çš„åŒä¹‰è¯ã€‚

Docker å¯åŠ¨äº†è¿™æ•´ä¸ªé©å‘½ã€‚Docker åˆ›é€ äº†ä¸€ä¸ªéå¸¸ç¬¦åˆäººä½“å·¥ç¨‹å­¦ï¼ˆå¾ˆå¥½ç”¨ï¼‰çš„å·¥å…·æ¥å¤„ç†å®¹å™¨--ä¹Ÿå« dockerã€‚

docker è¢«è®¾è®¡æˆå®‰è£…åœ¨å·¥ä½œç«™æˆ–æœåŠ¡å™¨ä¸Šï¼Œå¹¶é™„å¸¦äº†ä¸€å †å·¥å…·ï¼Œä½¿å…¶ä½œä¸ºä¸€ä¸ªå¼€å‘äººå‘˜æˆ– DevOps äººå‘˜èƒ½å¤Ÿè½»æ¾åœ°æ„å»ºå’Œè¿è¡Œå®¹å™¨ã€‚

docker å‘½ä»¤è¡Œå·¥å…·å¯ä»¥æ„å»ºå®¹å™¨é•œåƒï¼Œä»æ³¨å†Œè¡¨ä¸­æå–å®ƒä»¬ï¼Œåˆ›å»ºã€å¯åŠ¨å’Œç®¡ç†å®¹å™¨ã€‚

ä¸ºäº†å®ç°è¿™ä¸€åˆ‡ï¼Œä½ æ‰€çŸ¥é“çš„ docker çš„ç»éªŒç°åœ¨ç”±è¿™äº›é¡¹ç›®ç»„æˆï¼ˆè¿˜æœ‰å…¶ä»–é¡¹ç›®ï¼Œä½†è¿™äº›æ˜¯ä¸»è¦çš„ï¼‰ã€‚

docker-cliï¼šè¿™æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œä½ ä½¿ç”¨ docker ... å‘½ä»¤è¿›è¡Œäº¤äº’ã€‚

containerdï¼šè¿™æ˜¯ä¸€ä¸ªç®¡ç†å’Œè¿è¡Œå®¹å™¨çš„å®ˆæŠ¤è¿›ç¨‹ã€‚å®ƒæ¨é€å’Œæ‹‰åŠ¨é•œåƒï¼Œç®¡ç†å­˜å‚¨å’Œç½‘ç»œï¼Œå¹¶ç›‘ç£å®¹å™¨çš„è¿è¡Œã€‚

runcã€‚è¿™æ˜¯ä½çº§åˆ«çš„å®¹å™¨è¿è¡Œæ—¶é—´ï¼ˆå®é™…åˆ›å»ºå’Œè¿è¡Œå®¹å™¨çš„ä¸œè¥¿ï¼‰ã€‚å®ƒåŒ…æ‹¬ libcontainerï¼Œä¸€ä¸ªç”¨äºåˆ›å»ºå®¹å™¨çš„åŸºäº Go çš„æœ¬åœ°å®ç°ã€‚

å®é™…ä¸Šï¼Œå½“ä½ ç”¨ docker è¿è¡Œä¸€ä¸ªå®¹å™¨æ—¶ï¼Œä½ å®é™…ä¸Šæ˜¯é€šè¿‡ Docker å®ˆæŠ¤ç¨‹åºã€containerd å’Œ runc æ¥è¿è¡Œå®ƒã€‚

## Dockershim: Kubernetes ä¸­çš„ Docker

Kubernetes åŒ…æ‹¬ä¸€ä¸ªåä¸º dockershim çš„ç»„ä»¶ï¼Œä½¿å…¶èƒ½å¤Ÿæ”¯æŒ Dockerã€‚

Kubernetes æ›´å€¾å‘äºé€šè¿‡ä»»ä½•æ”¯æŒå…¶Container Runtime Interface (CRI)å®¹å™¨è¿è¡Œæ—¶æ¥å£çš„å®¹å™¨è¿è¡Œæ—¶æ¥è¿è¡Œå®¹å™¨ã€‚

ä½† Docker ç”±äºæ¯” Kubernetes æ›´æ—©ï¼Œæ²¡æœ‰å®ç° CRIã€‚æ‰€ä»¥è¿™å°±æ˜¯ dockershim å­˜åœ¨çš„åŸå› ï¼ŒåŸºæœ¬ä¸Šæ˜¯æŠŠ Docker æ “åœ¨ Kubernetes ä¸Šã€‚æˆ–è€… Kubernetes åˆ° Docker ä¸Šï¼Œæ— è®ºä½ å–œæ¬¢å“ªç§æ–¹å¼ã€‚

ä»€ä¹ˆæ˜¯shimï¼Ÿ

åœ¨ç°å®ä¸–ç•Œä¸­ï¼ˆï¼ï¼‰ï¼Œå«ç‰‡æ˜¯ã€‚ä¸€ä¸ªå«åœˆæˆ–è–„è–„çš„ææ–™æ¡ï¼Œç”¨äºå¯¹é½é›¶ä»¶ï¼Œä½¿å…¶é€‚åˆï¼Œæˆ–å‡å°‘ç£¨æŸã€‚

åœ¨æŠ€æœ¯æ–¹é¢ï¼Œå«ç‰‡æ˜¯è½¯ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒä½œä¸ºä¸åŒ API ä¹‹é—´çš„æ¡¥æ¢ï¼Œæˆ–ä½œä¸ºä¸€ä¸ªå…¼å®¹å±‚ã€‚å½“ä½ æƒ³ä½¿ç”¨ä¸€ä¸ªç¬¬ä¸‰æ–¹ç»„ä»¶æ—¶ï¼Œæœ‰æ—¶ä¼šæ·»åŠ ä¸€ä¸ªå«ç‰‡ï¼Œä½†ä½ éœ€è¦ä¸€ç‚¹èƒ¶æ°´ä»£ç æ¥ä½¿å…¶å·¥ä½œã€‚

ä»Šåï¼ŒKubernetes å°†ç›´æ¥å–æ¶ˆå¯¹ Docker çš„æ”¯æŒï¼Œè€Œå€¾å‘äºåªä½¿ç”¨å®ç°å…¶å®¹å™¨è¿è¡Œæ—¶æ¥å£çš„å®¹å™¨è¿è¡Œæ—¶ã€‚è¿™å¯èƒ½æ„å‘³ç€ä½¿ç”¨containerd æˆ– CRI-Oã€‚

ä½†è¿™å¹¶ä¸æ„å‘³ç€ Kubernetes å°†ä¸èƒ½è¿è¡Œ Docker æ ¼å¼çš„å®¹å™¨ã€‚containerd å’Œ CRI-O éƒ½å¯ä»¥è¿è¡Œ Docker æ ¼å¼ï¼ˆå®é™…ä¸Šæ˜¯ OCI æ ¼å¼ï¼‰çš„é•œåƒï¼Œå®ƒä»¬åªæ˜¯æ— éœ€ä½¿ç”¨ docker å‘½ä»¤æˆ– Docker å®ˆæŠ¤ç¨‹åºã€‚

## Dockerå›¾åƒ

è®¸å¤šäººæ‰€è¯´çš„ Docker é•œåƒï¼Œå®é™…ä¸Šæ˜¯ä»¥ Open Container Initiativeï¼ˆOCIï¼‰æ ¼å¼æ‰“åŒ…çš„é•œåƒã€‚

å› æ­¤ï¼Œå¦‚æœä½ ä» Docker Hub æˆ–å…¶ä»–æ³¨å†Œä¸­å¿ƒæ‹‰å‡ºä¸€ä¸ªé•œåƒï¼Œä½ åº”è¯¥èƒ½å¤Ÿç”¨ docker å‘½ä»¤ä½¿ç”¨å®ƒï¼Œæˆ–åœ¨ Kubernetes é›†ç¾¤ä¸Šä½¿ç”¨ï¼Œæˆ–ç”¨ podman å·¥å…·ï¼Œæˆ–ä»»ä½•å…¶ä»–æ”¯æŒ OCI é•œåƒæ ¼å¼è§„èŒƒçš„å·¥å…·ã€‚

## Container Runtime Interface (CRI) å®¹å™¨è¿è¡Œæ—¶æ¥å£

CRI æ˜¯ Kubernetes ç”¨æ¥æ§åˆ¶åˆ›å»ºå’Œç®¡ç†å®¹å™¨çš„ä¸åŒè¿è¡Œæ—¶çš„ APIã€‚

CRI ä½¿ Kubernetes æ›´å®¹æ˜“ä½¿ç”¨ä¸åŒçš„å®¹å™¨è¿è¡Œæ—¶ã€‚Kubernetes é¡¹ç›®ä¸å¿…æ‰‹åŠ¨æ·»åŠ å¯¹æ¯ä¸ªè¿è¡Œæ—¶çš„æ”¯æŒï¼ŒCRI API æè¿°äº†Kubernetes å¦‚ä½•ä¸æ¯ä¸ªè¿è¡Œæ—¶è¿›è¡Œäº¤äº’ã€‚å› æ­¤ï¼Œç”±è¿è¡Œæ—¶å†³å®šå¦‚ä½•å®é™…ç®¡ç†å®¹å™¨ï¼Œåªè¦å®ƒéµå®ˆ CRI çš„ API å³å¯ã€‚

å› æ­¤ï¼Œå¦‚æœä½ å–œæ¬¢ä½¿ç”¨ containerd æ¥è¿è¡Œä½ çš„å®¹å™¨ï¼Œä½ å¯ä»¥ã€‚æˆ–è€…ï¼Œå¦‚æœä½ å–œæ¬¢ä½¿ç”¨ CRI-Oï¼Œé‚£ä¹ˆä½ ä¹Ÿå¯ä»¥ã€‚è¿™æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªè¿è¡Œæ—¶éƒ½å®ç°äº† CRI è§„èŒƒã€‚

å¦‚æœä½ æ˜¯ä¸€ä¸ªç»ˆç«¯ç”¨æˆ·ï¼Œå®ç°æ–¹å¼å¤§å¤šä¸é‡è¦ã€‚è¿™äº› CRI å®ç°çš„ç›®çš„æ˜¯å¯æ’æ‹”å’Œæ— ç¼æ”¹å˜çš„ã€‚

å¦‚æœä½ èŠ±é’±ä»ä¾›åº”å•†é‚£é‡Œè·å¾—æ”¯æŒï¼ˆå®‰å…¨ã€é”™è¯¯ä¿®å¤ç­‰ï¼‰ï¼Œä½ å¯¹è¿è¡Œæ—¶çš„é€‰æ‹©å¯èƒ½ä¼šå¾ˆé‡è¦ã€‚ä¾‹å¦‚ï¼Œçº¢å¸½çš„ OpenShift ä½¿ç”¨ CRI-Oï¼Œå¹¶æä¾›å¯¹å®ƒçš„æ”¯æŒã€‚Docker ä¸ºä»–ä»¬è‡ªå·±çš„ containerd æä¾›æ”¯æŒã€‚

### å¦‚ä½•åœ¨ Kubernetes ä¸­æ£€æŸ¥ä½ çš„å®¹å™¨è¿è¡Œæ—¶é—´

åœ¨Kubernetesæ¶æ„ä¸­ï¼Œkubeletï¼ˆåœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œçš„ä»£ç†ï¼‰è´Ÿè´£å‘å®¹å™¨è¿è¡Œæ—¶å‘é€æŒ‡ä»¤ä»¥å¯åŠ¨å’Œè¿è¡Œå®¹å™¨ã€‚

ä½ å¯ä»¥é€šè¿‡æŸ¥çœ‹æ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„kubeletå‚æ•°æ¥æ£€æŸ¥ä½ æ­£åœ¨ä½¿ç”¨å“ªä¸ªå®¹å™¨è¿è¡Œæ—¶ã€‚æœ‰ä¸€ä¸ªé€‰é¡¹--container-runtimeå’Œ--container-runtime-endpointï¼Œç”¨æ¥é…ç½®ä½¿ç”¨å“ªä¸ªè¿è¡Œæ—¶ã€‚

## containerd

containerd æ˜¯ä¸€ä¸ªæ¥è‡ª Docker çš„é«˜çº§å®¹å™¨è¿è¡Œæ—¶ï¼Œå¹¶å®ç°äº† CRI è§„èŒƒã€‚å®ƒä»æ³¨å†Œä¸­å¿ƒæå–é•œåƒï¼Œç®¡ç†å®ƒä»¬ï¼Œç„¶åäº¤ç»™ä½çº§åˆ«çš„è¿è¡Œæ—¶ï¼Œç”±å®ƒå®é™…åˆ›å»ºå’Œè¿è¡Œå®¹å™¨è¿›ç¨‹ã€‚

containerd ä» Docker é¡¹ç›®ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œä»¥ä½¿ Docker æ›´åŠ æ¨¡å—åŒ–ã€‚

æ‰€ä»¥ Docker è‡ªå·±åœ¨å†…éƒ¨ä½¿ç”¨ containerdã€‚å½“ä½ å®‰è£… Docker æ—¶ï¼Œå®ƒä¹Ÿä¼šå®‰è£… containerdã€‚

containerd é€šè¿‡å…¶ cri æ’ä»¶å®ç°äº† Kubernetes å®¹å™¨è¿è¡Œæ—¶æ¥å£ï¼ˆCRIï¼‰ã€‚

## CRI-O

CRI-O æ˜¯å¦ä¸€ä¸ªå®ç°äº†å®¹å™¨è¿è¡Œæ—¶æ¥å£ï¼ˆCRIï¼‰çš„é«˜çº§åˆ«å®¹å™¨è¿è¡Œæ—¶ã€‚å®ƒæ˜¯ containerd çš„ä¸€ä¸ªæ›¿ä»£å“ã€‚å®ƒä»æ³¨å†Œè¡¨ä¸­æå–å®¹å™¨é•œåƒï¼Œåœ¨ç£ç›˜ä¸Šç®¡ç†å®ƒä»¬ï¼Œå¹¶å¯åŠ¨ä¸€ä¸ªä½çº§åˆ«çš„è¿è¡Œæ—¶æ¥è¿è¡Œå®¹å™¨è¿›ç¨‹ã€‚

æ˜¯çš„ï¼ŒCRI-O æ˜¯å¦ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ã€‚å®ƒè¯ç”Ÿäºçº¢å¸½ã€IBMã€è‹±ç‰¹å°”ã€SUSEç­‰å…¬å¸ã€‚

å®ƒæ˜¯ä¸“é—¨ä»å¤´å¼€å§‹åˆ›å»ºçš„ï¼Œä½œä¸º Kubernetes çš„ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ã€‚å®ƒæä¾›äº†å¯åŠ¨ã€åœæ­¢å’Œé‡å¯å®¹å™¨çš„èƒ½åŠ›ï¼Œå°±åƒ containerd ä¸€æ ·ã€‚

## Open Container Initiative (OCI) å¼€æ”¾å®¹å™¨å€¡è®®

OCI æ˜¯ä¸€ä¸ªç”±ç§‘æŠ€å…¬å¸ç»„æˆçš„å›¢ä½“ï¼Œä»–ä»¬ç»´æŠ¤å®¹å™¨é•œåƒæ ¼å¼çš„è§„èŒƒï¼Œä»¥åŠå®¹å™¨åº”è¯¥å¦‚ä½•è¿è¡Œã€‚

OCI èƒŒåçš„æƒ³æ³•æ˜¯ï¼Œä½ å¯ä»¥é€‰æ‹©ç¬¦åˆè§„èŒƒçš„ä¸åŒè¿è¡Œæ—¶ã€‚è¿™äº›è¿è¡Œæ—¶éƒ½æœ‰ä¸åŒçš„åº•å±‚å®ç°ã€‚

ä¾‹å¦‚ï¼Œä½ å¯èƒ½æœ‰ä¸€ä¸ªç¬¦åˆ OCI çš„è¿è¡Œæ—¶ç”¨äºä½ çš„ Linux ä¸»æœºï¼Œå¦ä¸€ä¸ªç”¨äºä½ çš„ Windows ä¸»æœºã€‚

è¿™å°±æ˜¯æ‹¥æœ‰ä¸€ä¸ªå¯ä»¥ç”±è®¸å¤šä¸åŒé¡¹ç›®å®æ–½çš„æ ‡å‡†çš„å¥½å¤„ã€‚è¿™ç§åŒæ ·çš„ "ä¸€ä¸ªæ ‡å‡†ï¼Œå¤šç§å®ç°" çš„æ–¹æ³•åˆ°å¤„éƒ½åœ¨ä½¿ç”¨ï¼Œä»è“ç‰™è®¾å¤‡åˆ°Java APIsã€‚

## runc

runc æ˜¯ä¸€ä¸ªå…¼å®¹ OCI çš„å®¹å™¨è¿è¡Œæ—¶é—´ã€‚å®ƒå®ç°äº† OCI è§„èŒƒå¹¶è¿è¡Œå®¹å™¨è¿›ç¨‹ã€‚

runc è¢«ç§°ä¸º OCI çš„å‚è€ƒå®ç°ã€‚

ä»€ä¹ˆæ˜¯å‚è€ƒå®ç°ï¼Ÿ

runc ä¸ºå®¹å™¨æä¾›äº†æ‰€æœ‰çš„ä½çº§åŠŸèƒ½ï¼Œä¸ç°æœ‰çš„ä½çº§ Linux åŠŸèƒ½äº¤äº’ï¼Œå¦‚å‘½åç©ºé—´å’Œæ§åˆ¶ç»„ã€‚å®ƒä½¿ç”¨è¿™äº›åŠŸèƒ½æ¥åˆ›å»ºå’Œè¿è¡Œå®¹å™¨è¿›ç¨‹ã€‚

runc çš„å‡ ä¸ªæ›¿ä»£å“æ˜¯ã€‚

[crun](https://github.com/containers/crun) ä¸€ä¸ªç”¨ C è¯­è¨€ç¼–å†™çš„å®¹å™¨è¿è¡Œæ—¶ï¼ˆç›¸æ¯”ä¹‹ä¸‹ï¼Œrunc æ˜¯ç”¨Goç¼–å†™çš„ã€‚ï¼‰

æ¥è‡ªKatacontainersé¡¹ç›®çš„[kata-runtime](https://github.com/kata-containers/kata-containers)ï¼Œå®ƒå°† OCI è§„èŒƒå®ç°ä¸ºå•ç‹¬çš„è½»é‡çº§è™šæ‹Ÿæœºï¼ˆç¡¬ä»¶è™šæ‹ŸåŒ–ï¼‰ã€‚

Googleçš„ [gVisor](https://gvisor.dev/)ï¼Œå®ƒåˆ›å»ºäº†æ‹¥æœ‰è‡ªå·±å†…æ ¸çš„å®¹å™¨ã€‚å®ƒåœ¨å…¶è¿è¡Œæ—¶ä¸­å®ç°äº† OCIï¼Œç§°ä¸º runscã€‚

### Windowsä¸Šçš„runcç›¸å½“äºä»€ä¹ˆï¼Ÿ

runc æ˜¯ä¸€ä¸ªåœ¨ Linux ä¸Šè¿è¡Œå®¹å™¨çš„å·¥å…·ã€‚æ‰€ä»¥è¿™æ„å‘³ç€å®ƒå¯ä»¥åœ¨ Linux ä¸Šã€è£¸æœºä¸Šæˆ–è™šæ‹Ÿæœºå†…è¿è¡Œã€‚

åœ¨ Windows ä¸Šï¼Œå®ƒç•¥æœ‰ä¸åŒã€‚ä¸ runc ç›¸å½“çš„æ˜¯å¾®è½¯çš„ä¸»æœºè®¡ç®—æœåŠ¡ï¼ˆHCSï¼‰ã€‚å®ƒåŒ…æ‹¬ä¸€ä¸ªå« [runhcs](https://docs.microsoft.com/en-us/virtualization/windowscontainers/deploy-containers/containerd) çš„å·¥å…·ï¼Œå®ƒæœ¬èº«æ˜¯ runc çš„ä¸€ä¸ªåˆ†å‰ï¼Œä¹Ÿå®ç°äº†å¼€æ”¾å®¹å™¨å€¡è®®çš„è§„èŒƒã€‚

## æ€»ç»“

å°±è¿™æ ·äº†ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ° Docker åªæ˜¯å®¹å™¨ç”Ÿæ€ç³»ç»Ÿä¸­çš„ä¸€ä¸ªå°éƒ¨åˆ†ã€‚

æœ‰ä¸€å †å¼€æ”¾çš„æ ‡å‡†ï¼Œè¿™ä½¿å¾—ä¸åŒçš„å®ç°æ›´å®¹æ˜“è¢«äº¤æ¢ã€‚è¿™å°±æ˜¯æˆ‘ä»¬å¾—åˆ° CRI å’Œ OCI æ ‡å‡†ï¼Œä»¥åŠ containerdã€runc å’Œ CRI-O ç­‰é¡¹ç›®çš„åŸå› ã€‚

ç”±äºæ¯ä¸ªäººéƒ½åœ¨å¿™ç€ç ”ç©¶è¿™äº›æ–°æŠ€æœ¯ï¼Œéšç€äº‹æƒ…çš„è¿›å±•ï¼Œé¢„è®¡è¿™å°†è¿…é€Ÿæ”¹å˜ã€‚

ç°åœ¨ä½ çŸ¥é“äº†å…³äºå®¹å™¨è¿™ä¸ªæœ‰è¶£è€Œåˆç•¥æ˜¾å¤æ‚çš„ä¸–ç•Œçš„ä¸€åˆ‡ã€‚

ä½†ä¸‹æ¬¡ä½ å‚åŠ èšä¼šæ—¶ğŸˆï¼Œä¸è¦è¯´ä½ åœ¨ä½¿ç”¨ " Dockerå®¹å™¨ "....ã€‚

> https://www.tutorialworks.com/difference-docker-containerd-runc-crio-oci/
> https://thenewstack.io/a-security-comparison-of-docker-cri-o-and-containerd/

---

![ ](https://github.com/shenxianpeng/shenxianpeng.github.io/blob/master/about/index/qrcode.jpg?raw=true)

å…³æ³¨å…¬ä¼—å·ã€ŒDevOpsæ”»åŸç‹®ã€

ï¼ˆè½¬è½½æœ¬ç«™æ–‡ç« è¯·æ³¨æ˜ä½œè€…å’Œå‡ºå¤„ï¼Œè¯·å‹¿ç”¨äºä»»ä½•å•†ä¸šç”¨é€”ï¼‰
