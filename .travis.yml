{
  "language": "ruby",
  "os": [
    "linux"
  ],
  "dist": "xenial",
  "notifications": {
    "email": [
      {
        "recipients": [
          "xianpeng.shen@gmail.com"
        ]
      }
    ]
  },
  "jobs": {
    "include": [
      {
        "language": "ruby",
        "dist": "trusty",
        "install": [
          "gem install travis"
        ],
        "addons": {
          "sonarcloud": {
            "organization": "shenxianpeng",
            "token": "a38d39b377d89ea83ac464713dcb915bd33ade0a"
          }
        },
        "script": [
          "sonar-scanner"
        ],
        "jdk": "oraclejdk11"
      },
      {
        "language": "node_js",
        "node_js": "10",
        "cache": {
          "apt": true,
          "directories": [
            "node_modules"
          ]
        },
        "before_script": [
          "npm install",
          "npm install -g hexo-cli",
          "npm install hexo-deployer-git --save"
        ],
        "script": [
          "hexo generate",
          "hexo server > /dev/null 2>&1 &",
          "sleep 20 && curl -Is http://localhost:4000/ | head -n 1"
        ]
      }
    ]
  }
}