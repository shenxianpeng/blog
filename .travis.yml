language: node_js

sudo: false

cache:
  apt: true
  directories:
    - node_modules

node_js:
  - "8"

before_script:
  - npm install
  - npm install -g hexo-cli
  - npm install hexo-deployer-git --save

script: 
  - hexo generate
  - hexo server > /dev/null 2>&1 &
  - sleep 20 && curl http://localhost:4000/
